---
title: Rethinking Microkernels towards a better general-purpose OS
date: Feb 25, 2024
layout: blog
lang: en
---

# Good enough is not enough

A hard problem in adopting a new OS is, "good enough" is not enough - it has to be *way* better than existing ones. People, including me, are not willing to throw away established knowledge and tools for a new beautiful-looking-but-not-so-different OS.

For example, "implementing OS services in userland" is not a unique feature of microkernels. We can do the same thing in Linux ([example](https://dl.acm.org/doi/10.1145/3477132.3483542)).

**Lesson: Microkernels should provide crystal-clear advantages.**

# Is microkernel OS really secure?

One of characteristics of recent microkernels is their design for security. Very nicely minimized kernel primitives, capability-based security, and formal verification. I 100% agree with the idea, especially in mission-critical systems.

However, microkernel is just a tiny part of the whole OS. The security of OS service processes (aka. *servers*) running on top of microkernels are often overlooked, and they're just a PoC-quality implementation.

**Lesson: Microkernels should value how people implement userland.**

# Microkernels are fun!

I've criticized microkernels from some aspects, but please don't get me wrong. I love microkernels. They're fun. Really fun. The kernel defines how your software uses a computer. Working on microkernels is like visiting a new country. Different languages, different cultures, different customs. I really want everyone to experience it!

That said though, today's OS developement looks like web development before the rise of Ruby on Rails. Development tools look the same as 20 years ago. I bet microkernels can do better. What if you could develop OS as easily as web apps? A frontend engineer might invent "React for OS", that skilled kernel hackers dislike and criticize harshly at first, but eventually becomes the de facto standard.

**Lesson: Microkernels should provide neat developer experience.**
